package evaluation.esper;

import com.espertech.esper.common.internal.collection.Pair;

import java.util.function.Function;

/**
 * A custom adapter for Esper. It is built to feed the Esper engine with events.
 * The events can be generated by multiple sources.
 *
 * @see KafkaAvroEsperCustomAdapter
 * @param <V> The type of the input event
 * @param <E> The type of the event sent to Esper
 */

public interface EsperCustomAdapter<V,E> {

    /**
     * This is the only method of the adapter.
     * It generally involves a continuous flow of events that are sent to the Esper Runtime.
     *
     * @see com.espertech.esper.runtime.client.EPRuntime
     * @param transformationFunction A function for the event transformation and timestamp extraction
     */

    public void process(Function<V, Pair<E,Long>> transformationFunction);
}
